# Mobile MC & Release from Surface
#channel composition-interference

graphics opengl
graphic_iter 1

dim 3
boundaries x -50 50
boundaries y -50 50
boundaries z -50 50

species Receptor Messenger ReceptorActive

difc Receptor(up) 1
difc Messenger(up) 1
difc all(soln) 100

color Receptor(up) maroon
color Messenger(up) orange
color ReceptorActive(up) fuchsia

display_size all(all) 3
display_size *Active(all) 7

time_start 0
time_stop 100
time_step 0.00001

frame_thickness 0

start_surface bounds
action both all transmit
polygon both none
panel sphere 0 0 0 10 20 20
end_surface

start_surface transmitter
action both all reflect
rate Messenger(up) up fsoln 10
color both grey
polygon both edge
panel sphere -10 0 0 5 30 30
end_surface


start_surface receiver
action both all reflect
color both grey
polygon both edge
panel sphere 10 0 0 5 30 30
end_surface

species red
difc red 10
drift red 0 0 0
color red red


mol 1000 red 0 0 0

reaction r1 Messenger(fsoln) + Receptor(up) -> ReceptorActive(up) 100
reaction r2 ReceptorActive(up) -> Receptor(up) 1

start_compartment transmitter
surface transmitter
point 0 0 0
end_compartment

start_compartment receiver
surface receiver
point 0 0 0
end_compartment




surface_mol 500 Receptor(up) receiver all all
surface_mol 500 Messenger(up) transmitter all all


#cmd b pause
cmd E diffusecmpt transmitter 15 0.2 0.2 0.2 
cmd E diffusecmpt receiver 15 0.2 0.2 0.2 


end_file



